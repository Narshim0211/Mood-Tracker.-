# MoodTrackr – AI-Powered Mood Assistant

A lean, modular web app to help students understand and manage mood swings. Built with a light MERN-style backend and a React frontend.

- Backend: Node.js (Express) + MongoDB + Swagger docs
- Frontend: React (Vite) + Tailwind v4 + modular UI components
- AI: Swappable service layer with offline heuristics (no API key required)

## Quickstart (Local Dev)

### 1) Backend

```bash
cd moodtrackr-server
npm install
# dev run (uses in-memory Mongo by default)
npm run dev
# Swagger docs: http://localhost:4000/docs
```

Environment variables (optional):

```bash
PORT=4000
MONGO_URL="mongodb://localhost:27017/moodtrackr" # to use real Mongo instead of in-memory
USE_MEMORY_MONGO=false                           # set to true to force in-memory Mongo
```

### 2) Frontend

```bash
cd moodtrackr-web
npm install
npm run dev
# App: http://localhost:5173
```

Edit `moodtrackr-web/.env` to set a custom API base if needed:

```bash
VITE_API_BASE=http://localhost:4000
```

## Features

- Mood Log: Emoji grid + 1–10 intensity slider + optional custom triggers
- AI Triggers: Service wraps provider calls, uses heuristics offline
- Instant Suggestion: TipCard shown after logging
- Dashboard: Weekly/Monthly averages, streak, insight text; lazy loaded
- Web Notifications: Simple toggle using the Notifications API
- Swagger Docs: Autogenerated at `/docs`

## Tests

```bash
cd moodtrackr-server
npm test
```

Includes route tests and AI layer unit tests using `mongodb-memory-server`.

## Docker Compose (Backend + Mongo)

```bash
docker compose up --build
```

- MongoDB: `mongo:7`
- API: `node:22` container running Express on port 4000

## Project Structure

```
/workspace
  moodtrackr-server/   # Express API, Mongo models, Swagger, tests
  moodtrackr-web/      # React + Vite + Tailwind UI
```

## Notes

- The AI layer is swappable; plug in OpenAI/Anthropic or a local model later.
- The frontend uses modular components styled with Tailwind, compatible with shadcn patterns.
- All responses are JSON and the architecture is API-driven for easy mobile reuse.
